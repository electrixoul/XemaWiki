# 相机搭建与使用常见问题
# （FAQ）

## 1、光机和2D相机部件，对焦的距离应该是多少？

这取决于您希望整台3D相机实际工作的距离是在什么范围，比如相机使用时与被拍摄物体在1.5米左右，那么对焦的距离就应当为1.5米。

## 2、相机上电后出现蓝色背景？

指示相机初始化已完成，可以接收命令开始工作。

## 3、使用了gitee上的旧版指导文件，一些操作对应不上。

指导文件目录重新整理，旧版本将被替换。旧版本文件名为《DFX800相机搭建指南》，新版已经变更为《XEMA系列相机搭建指南》。

## 4、光机烧图如何操作？

![image](https://user-images.githubusercontent.com/117330523/221463844-0a98c873-0a2a-446b-a3d9-454110ae8f7c.png)

使用USB转I2C线（随整机零部件附带）连接电脑和光机，光机的I2C接口如图中红圈所示的位置，具体烧录步骤可以参考《XEMA系列相机搭建指南》。

## 5、光机的GUI工具从哪下载，如何使用？

需要从TI的官方网站下载：https://www.ti.com/tool/DLPDLC-GUI，具体使用可以参考官方的资料。单就相机烧图的使用需求来说，参考《XEMA系列相机搭建指南》中的“光机操作”部分即可。

## 6、电脑端的上位机程序如何编译？

Windows环境下编译上位机软件采用的工具为VS2019：Microsoft Visual Studio Community 2019，下载地址为：
https://my.visualstudio.com/Downloads?q=visual%20studio%202019&wt.mc_id=o~msft~vscom~older-downloads

## 7、检查网络连接，确认网速为千兆网络：

![image](https://user-images.githubusercontent.com/117330523/221463862-372203a6-3f6e-4f65-b03b-2f6f6dc943a0.png)

## 8、不知道怎么远程登录，IP和密码是多少？

相机的IP地址可以通过上位机的ConfiguringIP工具来获取，具体使用方法可以参考《XEMA系列相机使用手册》中的“软件界面”部分。

登录时使用ssh服务，具体命令如下：ssh [dexforce@xxx.xxx.xxx.xxx](mailto:dexforce@xxx.xxx.xxx.xxx)，密码：dexforce

![image](https://user-images.githubusercontent.com/117330523/221463887-47437b3b-5a1f-449f-a5d4-e0d6f379539f.png)

## 9、ConfiguringIP的GUI打开搜索不到相机？

首先排除网络硬件连接问题，如问题仍然存在，请检查电脑是否安装了虚拟机，如有则关闭虚拟网卡；如有安装多个物理网卡，只保留一个，其余需要禁用。

## 10、光机烧图之前需要先在电脑端生成图片，已经安装python运行create_patterns.py依然报错？

![image](https://user-images.githubusercontent.com/117330523/221463905-205159f5-cc01-4023-9aa7-35c147c33ea1.png)

如上图，如已安装python之后生成图片时报此错误，说明python环境缺opencv的依赖库，pip install opencv-python安装。
   
## 11、相机的PC端软件不知道下载哪个版本？下载安装了也不能识别？

没有特别要求，使用最新版本即可，在不同系列的XEMA中使用的相机可能不同，请根据配备的相机品牌下载对应的软件套件：

大恒相机驱动及套件：https://www.daheng-imaging.com/downloads/

Basler相机驱动及套件：https://www.baslerweb.com/en/downloads/software-downloads/

安装软件时应保持相机通过USB口与电脑可靠连接，安装过程中如有提示选择相机类型则勾选“USB”，在通过软件打开相机时请确保连接至PC端的接口为USB3.0，保证相机高速传输的性能，这也与最终组装至产品中的应用传输要求相符。

## 12、相机的光圈调到多少合适？

通常调至“4”的位置，可以根据整机工作距离的远近做适当调整，例如2.0米以上时可以将光圈调大至2.8，而小于1米时将光圈调至更小的位置。

## 13、滤光片装上了，相机拍出来很黑……没有注意距离、光圈、曝光时间的影响。

可以将物体移动到距离相机更近的地方，或者将光圈调节至更大的位置，最简单的方式是通过open_cam3d_gui.exe软件直接修改“投影亮度”和“曝光时间”，具体软件的使用方法和参数的调节范围可以参看《XEMA系列相机使用手册》。

## 14、需要多大的标定板才合适？

以下为您提供了几种常用的规格可供参考，通常工作距离在100cm以内的情况，选择“20”的标定板；工作距离大于1.0米小于2.0米的情况，选择“40”的标定板；而在更特殊或者更高要求的情况下，标定需要考虑的因素也更多。

## 15、对标定出的结果没有概念，怎样才算可以？

标定程序返回的是重投影误差的值，低于0.1则认为该次标定是合格的。标定完成后，可将标定板放置于相机测量范围中，采集点云后点击相机精度测试按键，查看输出的测量精度值（Z轴精度）。

## 16、标定要多少个位姿的图没有概念？

建议投影面的四个角和中心位置都要覆盖，变换标定板的位姿进行拍摄，标定板的平面、左右上下各倾斜的姿态……覆盖的越全面当然越好。

## 17、对于标定过程中提示无效的图片该怎么处理？

通过标定程序生成的一系列标记图片，可以找出无效图片是哪些位姿下拍摄的，原因可能是由于标定板有部分在投影范围之外，或者是相机视野之外，或是投影亮度不够（对比度），或是对焦不够清晰等问题造成，建议逐一排查，在未识别到区域重新拍摄并再次执行标定程序。

## 18、标定成功，参数写入了，最终没有出现点云图。

检查标定时输入的参数值是否正确，特别是version、board这两个参数。

## 19、标定结果不是很理想，是什么原因？

涉及的因素比较多，可能是不同位姿的图片数量过少，也可能是调焦不够清晰，还有可能是标定命令中的版本及标定板规格设置不正确等。

## 20、怎么修改相机IP？

参看《XEMA系列相机使用手册》，“软件界面”部分有ConfiguringIP工具的介绍，修改时双击对应的IP地址，即可进行设置。

## 21、对不同反射率的材料，不知道怎么配置参数？

《XEMA系列相机使用手册》中有“典型实例介绍”，请参考此文档配置验证。

## 22、电路板设计软件PADS使用的哪个版本？

vx2.3